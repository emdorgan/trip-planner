const btnHandler=async a=>{if(a.target.hasAttribute("data-id")&&"delete"===a.target.getAttribute("id")){const b=a.target.getAttribute("data-id"),c=await fetch(`/api/trips/${b}`,{method:"DELETE"});c.ok?document.location.replace("/"):alert("Failed to delete trip")}},addNewTrip=async a=>{a.preventDefault();var b={year:"numeric",month:"short",day:"numeric"};const c=document.querySelector("#trip-name").value.trim(),d=document.querySelector("#start-date").value.trim(),e=new Date(d),f=e.toLocaleDateString("en-US",b).toString(),g=document.querySelector("#end-date").value.trim(),h=new Date(g),i=h.toLocaleDateString("en-US",b).toString();if(c&&f&&i){const a=await fetch("/api/trips",{method:"POST",body:JSON.stringify({name:c,start_date:f,end_date:i}),headers:{"Content-Type":"application/json"}});a.ok?document.location.replace("/"):alert("Failed to make new trip")}},revealBtnHandler=()=>{document.getElementById("new-trip").setAttribute("class","new-post-form"),document.querySelector(".new-post-form").addEventListener("submit",addNewTrip)};document.querySelector(".my-trips").addEventListener("click",btnHandler),document.querySelector("#reveal-new-trip").addEventListener("click",revealBtnHandler);